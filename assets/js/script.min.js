$(document).ready(function() {
  AOS.init({ disable: "mobile" });
  getTitle();
  getStaff();
}),
  $("[data-toggle=tooltip]").tooltip(),
  $(document).ready(function() {
    $("#Carousel").carousel({ interval: 5e3 });
  }),
  $(function() {
    new Swiper(".swiper-container", {
      loop: !0,
      pagination: ".swiper-pagination",
      paginationClickable: !0,
      nextButton: ".swiper-button-next",
      prevButton: ".swiper-button-prev"
    });
  });

function getTitle() {
  let xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      console.log(JSON.parse(this.responseText));
      let titles = JSON.parse(this.responseText);
      document.getElementById("heading-text").innerHTML = titles[0].title;
      document.getElementById("subheading").innerHTML = titles[0].subtitle;
    }
  };

  xmlhttp.open(
    "GET",
    "https://aqueous-ravine-43070.herokuapp.com/titles",
    true
  );
  xmlhttp.send();
}

function getStaff() {
  let xmlhttp = new XMLHttpRequest();
  let root_url = "https://aqueous-ravine-43070.herokuapp.com";
  xmlhttp.onreadystatechange = function() {
    if (this.readyState === 4 && this.status === 200) {
      console.log(JSON.parse(this.responseText));
      let staffs = JSON.parse(this.responseText);

      if (staffs[0].image.url) {
        document.getElementById("img1").src = staffs[0].image.url;
        document.getElementById("staff_name1").innerHTML = staffs[0].names;
        document.getElementById("staff_position1").innerHTML =
          staffs[0].position;
        document.getElementById("staff_intro1").innerHTML = staffs[0].intro;
        document.getElementById("staff_about1").innerHTML = staffs[0].about;
      }

      if (staffs[1].image.url) {
        document.getElementById("img2").src = staffs[1].image.url;
        document.getElementById("staff_name2").innerHTML = staffs[1].names;
        document.getElementById("staff_position2").innerHTML =
          staffs[1].position;
        document.getElementById("staff_intro2").innerHTML = staffs[1].intro;
        document.getElementById("staff_about2").innerHTML = staffs[1].about;
      }

      if (staffs[2].image.url) {
        document.getElementById("img3").src = staffs[2].image.url;
        document.getElementById("staff_name3").innerHTML = staffs[2].names;
        document.getElementById("staff_position3").innerHTML =
          staffs[2].position;
        document.getElementById("staff_intro3").innerHTML = staffs[2].intro;
        document.getElementById("staff_about3").innerHTML = staffs[2].about;
      }
      // document.getElementById("subheading").innerHTML = titles[0].subtitle;
    }
  };

  xmlhttp.open("GET", "https://aqueous-ravine-43070.herokuapp.com/staff", true);
  xmlhttp.send();
}
